{% load mathfilters %}
{% load humanize %}
{% load static %}

            <h2 class="title">List of awards left <span id="toggle-awards-done" class="red-link" style="margin-right: 10px; display: inline; float:right; cursor: pointer;">&nbsp; &nbsp; <i id="awards-done-icon" class="fas fa-toggle-off"></i> <span id="toggle-awards-done-txt">Show</span> achieved awards</span></h2>
            <div class="module whiteBG">
                {% if awardsSummary %}
                    <table class="tablesorter center awards-report">
                        <thead>
                            <tr>
                                <th colspan="4">Summary by award category</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for awardType, awards in awardsSummary.items %}
                                {% if forloop.counter0|divisibleby:4 %}<tr>{% endif %}
                                    <td class="{% if awards.nAwarded == awards.nAwards %}awards-done{% else %}awards-todo{% endif %}">
                                        <span id="award-category-{{awardType|cut:" "}}" style="cursor: pointer;">&nbsp; &nbsp; <i id="award-category-{{awardType|cut:" "}}" class="fas fa-toggle-{%if awardType|cut:" " == "Allawards" %}on{%else%}off{%endif%}"></i> {{awardType}}: {{awards.nAwarded}}/{{awards.nAwards}}</span>
                                    </td>
                                {% if forloop.counter|divisibleby:4 %}</tr>{% elif forloop.last %}</tr>{% endif %}
                           {% endfor %}
                        </tbody>
                    </table>
                    <br>
                {% endif %}
                <table id="award-list" class="tablesorter awards-report">
                    <thead>
                        <tr>
                            <th class="a" >Category</th>
                            <th class="b" >Name</th>
                            <th class="c" >Description</th>
                            <th class="d" >State</th>
                            <th class="d" >Goal</th>
                            <th class="e" >Achieve</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for awardType, awardsList in awards.items %}
                        {% for awardId, award in awardsList.items %}
                            <tr class="award-category-Allawards award-category-{{awardType|cut:" "}} {% if award.achieve == 1 %}award-done{% else %}award-todo{% endif %} {% if award.awardType == "Honor" %}award-honor{% else %}award-medal{% endif %}">
                                <td class="a">{{awardType}}</td>
                                {% if award.awardType == "Honor" %}
                                    {% if award.img == None %}
                                        <td class="b">{{award.title}}</td>
                                    {% else %}
                                        <td class="b award-todo"><img src="{{award.img}}" title="{{award.title}}" style="margin:0px, padding:0px">
                                        </td>
                                    {% endif %}
                                {% else %}
                                    {% with 'medals/img/'|add:award.img|add:'_r.png' as image_static %}
                                        <td class="b"><img src="{% static image_static %}" title="{{award.name}}" class="medals"> &nbsp; {{award.name}}</td>
                                    {% endwith %}
                                {% endif %}
                                <td class="c">{{award.description}}</td>
                                <td class="d">{{award.head}}{{award.current|intcomma}}</td>
                                <td class="d">{{award.head}}{{award.goal|intcomma}}</td>
                                <td class="e {% if award.achieve == 1 %}awards-done{% else %}awards-todo{% endif %}">{{award.achieve|mul:100|floatformat:0}}%</td>
                            </tr>
                        {% endfor %}
                    {% endfor %}
                    </tbody>
                </table>

            </div>
